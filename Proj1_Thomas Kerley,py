# Thomas Kerley
# INF 601 - Advanced Python
# Fall 2022
# Mini project 1

import kerleyFunctions as kf
import numpy as np
import scipy as sp
import yfinance as yf
import datetime as dt
import matplotlib.pyplot as plt

# init and set the dates
# today = dt.date.today()
# delta = dt.timedelta(days=10)
# startDate = kf.adjustForWeekends(today, delta)
# print("Today is: " + today.isoformat())

delta = 10
# ticker list
tickerList = ["AAPL", "AMZN", "MSFT", "MNDT", "NFLX", "TSLA"]
# saves data for the ticker between start and delta
# data = yf.download("MSFT", start=startDate.isoformat(), end=today.isoformat())
# data = yf.download(tickerList, interval=delta)
data = yf.download("NFLX", interval="1wk")


print(data)

# creates a list of prices
msftPrices = []
for price in data['Adj Close']:
    msftPrices.append(price)

# converts the list of prices to an array
msftarray = np.array(msftPrices)

# plots the array of prices
plt.plot(msftarray)


fname = "Charts/Netflix"
plt.savefig(fname, bbox_inches='tight')
plt.show()